(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{1:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"H",(function(){return a})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"E",(function(){return o})),n.d(t,"C",(function(){return l})),n.d(t,"c",(function(){return i})),n.d(t,"u",(function(){return s})),n.d(t,"v",(function(){return m})),n.d(t,"F",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return E})),n.d(t,"G",(function(){return b})),n.d(t,"j",(function(){return y})),n.d(t,"I",(function(){return v})),n.d(t,"w",(function(){return g})),n.d(t,"D",(function(){return h})),n.d(t,"A",(function(){return O})),n.d(t,"z",(function(){return S})),n.d(t,"B",(function(){return _})),n.d(t,"x",(function(){return j})),n.d(t,"y",(function(){return P})),n.d(t,"g",(function(){return A})),n.d(t,"f",(function(){return R})),n.d(t,"p",(function(){return C})),n.d(t,"t",(function(){return T})),n.d(t,"s",(function(){return w})),n.d(t,"r",(function(){return k})),n.d(t,"k",(function(){return N})),n.d(t,"l",(function(){return U})),n.d(t,"m",(function(){return x})),n.d(t,"n",(function(){return L})),n.d(t,"o",(function(){return Y})),n.d(t,"q",(function(){return F}));var r="https://fb.joomdesign.ru/images/def.png",a="\u0424\u0443\u0442\u0431\u043e\u043b \u0432 \u0441\u043f\u043e\u0440\u0442\u0437\u0430\u043b\u0435",c="\u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440",u="\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043e\u0441\u0442\u0430\u0432\u044b",o="\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b",l="\u0418\u0433\u0440\u043e\u043a\u0438",i="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u0433\u0440\u043e\u043a\u0430",s="\u0412\u043e\u0439\u0442\u0438",m="\u0412\u044b\u0439\u0442\u0438",d="\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",f="\u0423\u0434\u0430\u043b\u0438\u0442\u044c",p="\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",E="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",b="\u0412\u044b\u0431\u0440\u0430\u0442\u044c",y="\u0413\u043e\u043b\u044b",v="\u041f\u043e\u0431\u0435\u0434\u0430",g="\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435",h="\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c",O="\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f",S="\u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u043a\u043e\u043c\u0430\u043d\u0434",_="\u0418\u0433\u0440\u043e\u043a\u0438",j="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u0433\u0440\u043e\u043a\u0430",P="\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0433\u0440\u043e\u043a\u0430",A="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435",R="\u042d\u043b.\u043f\u043e\u0447\u0442\u0430 \u0443\u043a\u0430\u0437\u0430\u043d\u0430 \u043d\u0435\u0432\u0435\u0440\u043d\u043e",C="\u042d\u043b.\u043f\u043e\u0447\u0442\u0430",T="\u041f\u0430\u0441\u0441\u0432\u043e\u0440\u0434",w="\u0418\u043c\u044f",k="\u041b\u043e\u0433\u0438\u043d",N="\u041a\u043e\u0440\u0437\u0438\u043d\u0430",U="\u041f\u0435\u0440\u0432\u0430\u044f",x="\u0412\u0442\u043e\u0440\u0430\u044f",L="\u0422\u0440\u0435\u0442\u044c\u044f",Y="\u0422\u0440\u0430\u0432\u043c\u0430",F="\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"},10:function(e,t,n){"use strict";var r=n(17),a=n(0),c=n.n(a),u=n(30),o=n.n(u),l=function(e){var t=e.type,n=e.mod,a=e.title,u=e.href,l=e.wide,i=e.className,s=e.onClick,m=Object(r.a)(e,["type","mod","title","href","wide","className","onClick"]),d=u?"a":"button";return c.a.createElement(d,{href:u,type:t,onClick:s,title:a,className:o()("btn",n&&"btn-".concat(n),l&&"w-100",i)},m.children)};l.defaultProps={mod:"primary",type:"button"};var i=l;t.a=i},149:function(e,t,n){"use strict";var r=n(155),a=n(156),c=n(159),u=n(157),o=n(160),l=n(0),i=n.n(l),s=n(16),m=n(33),d=n(25);t.a=function(e){var t=function(t){function n(){return Object(r.a)(this,n),Object(c.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(o.a)(n,t),Object(a.a)(n,[{key:"render",value:function(){return this.props.auth.isAuth?i.a.createElement(e,this.props):i.a.createElement(m.a,{to:"/login"})}}]),n}(i.a.Component);return Object(s.b)((function(e){return{auth:Object(d.a)(e)}}),{})(t)}},151:function(e,t,n){e.exports=n.p+"static/media/logo.761182ff.svg"},161:function(e,t,n){e.exports=n(321)},25:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(11),a=Object(r.a)((function(e){return e.auth}),(function(e){return e}))},26:function(e,t,n){"use strict";var r=n(17),a=n(0),c=n.n(a),u=n(30),o=n.n(u),l=function(e){var t=e.name,n=e.handleChange,r=e.values,a=e.handleBlur,u=e.type,l=e.touched,i=e.errors,s=e.placeholder,m=e.autoFocus,d=e.autoComplete,f=void 0===d?"false":d;return c.a.createElement("input",{name:t,onChange:n,value:r[t],onBlur:a,type:u,className:o()("form-control",{"is-invalid":l[t]&&i[t]}),placeholder:s,autoFocus:m,autoComplete:f})},i=function(e){var t=e.name,n=e.handleChange,r=e.values,a=e.handleBlur,u=e.type,l=e.touched,i=e.errors,s=e.label;return c.a.createElement("div",{className:"custom-control custom-checkbox"},c.a.createElement("input",{id:t,name:t,onChange:n,value:r[t],onBlur:a,type:u,className:o()("custom-control-input",{"is-invalid":l[t]&&i[t]}),checked:r[t]}),c.a.createElement("label",{className:"custom-control-label",htmlFor:t},s))},s=function(e){var t=e.name,n=e.handleChange,r=e.values,a=e.handleBlur,u=e.touched,l=e.errors,i=e.children;return c.a.createElement("select",{id:t,name:t,onChange:n,value:r[t],onBlur:a,className:o()("form-control ",{"is-invalid":u[t]&&l[t]})},i)};t.a=function(e){var t,n=e.name,a=e.type,u=void 0===a?"text":a,m=Object(r.a)(e,["name","type"]);switch(u){case"text":case"email":case"password":t=c.a.createElement(l,Object.assign({name:n,type:u},m));break;case"checkbox":t=c.a.createElement(i,Object.assign({name:n,type:"checkbox"},m));break;case"select":t=c.a.createElement(s,Object.assign({name:n},m));break;default:t=null}var d=e.touched,f=e.errors;return c.a.createElement("div",{className:o()("form-group",{"has-danger":d[n]&&f[n]})},t,d[n]&&f[n]&&c.a.createElement("span",{className:"invalid-feedback"},f[n]))}},318:function(e,t,n){},319:function(e,t,n){},320:function(e,t,n){},321:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(68),u=n.n(c),o=n(16),l=n(22),i=n(77),s=n(2),m=n.n(s),d=n(8),f=n(72),p=n.n(f),E=n(7),b=n(9),y=n.n(b),v=function(e){e?y.a.defaults.headers.common.Authorization=e:delete y.a.defaults.headers.common.Authorization},g=function(e){return{userData:e,type:"AUTH_USER_SUCCESS"}},h=function(){return function(e){localStorage.removeItem("jwtToken"),v(null),e({type:"LOGOUT_USER"})}},O=n(30),S=n.n(O),_=n(25),j=n(10),P=n(151),A=n.n(P),R=n(6),C=n(1),T=Object(o.b)((function(e){return{auth:Object(_.a)(e)}}),{logoutUser:h})((function(e){var t=e.auth.isAuth,n=e.logoutUser,c=[{access:"all",label:C.h,link:R.c},{access:"all",label:C.E,link:R.g},{access:"all",label:C.C,link:R.h},{access:"auth",label:C.c,link:R.f},{access:"guest",label:C.u,link:R.e},{access:"auth",action:function(){return n()},label:C.v,link:R.d}],u=c.filter((function(e){return"guest"===e.access||"all"===e.access})).map((function(e,t){return a.a.createElement("li",{className:"nav-item",key:t},a.a.createElement(l.c,{to:e.link,className:"nav-link"},e.label))})),o=c.filter((function(e){return"auth"===e.access||"all"===e.access})).map((function(e,t){return a.a.createElement("li",{className:"nav-item",key:t},a.a.createElement(l.c,{to:e.link,className:"nav-link",onClick:e.action},e.label))})),s=t?o:u,m=Object(r.useState)(!1),d=Object(i.a)(m,2),f=d[0],p=d[1];return a.a.createElement("div",{className:"navbar navbar-expand-lg navbar-dark bg-primary mb-4"},a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"navbar-brand d-flex align-items-center"},a.a.createElement("img",{src:A.a,alt:"logo",className:"mr-2",height:"48"}),a.a.createElement("span",null,C.H)),a.a.createElement(j.a,{className:"navbar-toggler",onClick:function(){p(!f)}},a.a.createElement("span",{className:"navbar-toggler-icon"},"\xa0")),a.a.createElement("div",{className:S()("collapse navbar-collapse",{show:f})},a.a.createElement("ul",{className:"navbar-nav ml-md-auto"},s))))})),w=n(33),k=n(17),N=n(36),U=n(21),x=n(26),L=a.a.memo((function(e){var t=e.onSubmit,n=Object(N.a)({initialValues:{email:"",password:""},onSubmit:function(e){t(e)},validationSchema:U.object().shape({email:U.string().email(C.f).required(C.g),password:U.string().required(C.g)})}),r=n.handleSubmit,c=Object(k.a)(n,["handleSubmit"]);return a.a.createElement("form",{onSubmit:r},a.a.createElement(x.a,Object.assign({placeholder:C.p,name:"email",type:"email"},c)),a.a.createElement(x.a,Object.assign({placeholder:C.t,name:"password",type:"password"},c)),a.a.createElement("div",{className:"mt-2"},a.a.createElement(j.a,{wide:!0,type:"submit"},C.u)))})),Y=n(67),F=n(35),D=Object(o.b)((function(e){return{auth:Object(_.a)(e)}}),{loginUser:function(e){return function(){var t=Object(d.a)(m.a.mark((function t(n){var r,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"AUTH_USER_REQUEST"}),t.prev=1,t.next=4,E.a.login(e);case 4:r=t.sent,a=r.data.token,localStorage.setItem("jwtToken",a),v(a),n(g(p()(a))),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n({error:t.t0.response.data.message,type:"AUTH_USER_FAILURE"});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}})(a.a.memo((function(e){var t=e.loginUser,n=e.auth,r=n.isAuth,c=n.error;return n.loading?a.a.createElement(F.a,null):r?a.a.createElement(w.a,{to:"/"}):a.a.createElement("div",{className:"login-page"},a.a.createElement("div",{className:"col-md-6 m-auto"},a.a.createElement("h1",null,C.A),a.a.createElement(Y.a,{message:c}),a.a.createElement(L,{onSubmit:function(e){t(e)}})))}))),H=n(53),Q=n(11),I=Object(Q.a)((function(e){return e.generator.selected}),(function(e){return e})),G=Object(Q.a)((function(e){return e.generator.result}),(function(e){return e})),V=function(e){return e.generator.error},B=n(54),z=n(71),q=a.a.memo((function(e){var t=e.result,n=e.onSaveResult,r=e.errors,c=e.auth.isAuth;if(!t.length)return null;var u=t.map((function(e,t){return Object.keys(e).length?a.a.createElement("div",{className:"col-md-4 mt-3 mt-md-0",key:t},a.a.createElement(z.a,{players:e,color:t})):null}));return a.a.createElement("div",{className:"jumbotron mt-3 pt-5 pb-5"},a.a.createElement("h2",null,C.E),a.a.createElement(Y.a,{message:r}),a.a.createElement("div",{className:"row mb-4"},u),a.a.createElement((function(){return c?a.a.createElement(j.a,{onClick:n},C.F):null}),null))})),M={generatorPlayerSelected:function(e){return{player:e,type:"GENERATOR_PLAYER_SELECT"}},generatorPlayersReset:function(){return{type:"GENERATOR_SELECT_RESET"}},generatorRun:function(e){return{teams:e,type:"GENERATOR_RUN"}},generatorSaveResult:function(e){return function(){var t=Object(d.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"GENERATOR_SAVE_REQUEST"}),t.prev=1,t.next=4,E.b.addPlayday(e);case 4:return r=t.sent,n({type:"GENERATOR_SAVE_SUCCESS"}),t.abrupt("return",r.data);case 9:t.prev=9,t.t0=t.catch(1),n({error:t.t0.response.data.message,type:"GENERATOR_SAVE_FAILURE"});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},getPlayers:H.e},J=Object(o.b)((function(e){return{auth:Object(_.a)(e),errors:V(e),list:Object(B.d)(e),result:G(e),selected:I(e)}}),M)(a.a.memo((function(e){var t=e.auth,n=e.list,c=e.selected,u=e.result,o=e.errors,l=e.generatorPlayerSelected,i=e.generatorPlayersReset,s=e.generatorRun,m=e.generatorSaveResult,d=e.getPlayers;if(Object(r.useEffect)((function(){d()}),[d]),!n)return a.a.createElement(F.a,null);var f=n.map((function(e){var t=e._id,n=e.name,r=e.damage,u=c.find((function(e){return e._id===t}))?"bg-success text-white":"",o=r?"card-muted":"";return a.a.createElement("div",{key:t,className:"col-6 col-md-3 mb-3",onClick:function(){return l(e)}},a.a.createElement("div",{className:"card p-2 ".concat(u," ").concat(o)},n))})),p=function(){var e=c,t=function(e,t,n,r){var a,c,u=0,o=t;return o.length<1&&(o=n),o.length<1&&(o=r),o.length>0&&(a=0,c=o.length,u=Math.floor(Math.random()*(c-a))+a,e.push(o[u]),o.splice(u,1)),e},n=e.filter((function(e){return 1===e.box})),r=e.filter((function(e){return 2===e.box})),a=e.filter((function(e){return 3===e.box})),u=[],o=[],l=[];e.map((function(){return u=t(u,n,r,a),o=t(o,n,r,a),e.length>=15&&(l=t(l,n,r,a)),[u,o,l]})),s([u,o,l])};return a.a.createElement("div",{className:"generator-page"},a.a.createElement("h1",{className:"d-flex"},C.z,a.a.createElement((function(){return c.length?a.a.createElement("span",{className:"badge badge-pill badge-info ml-2"},c.length):null}),null)),a.a.createElement("div",{className:"row"},f),a.a.createElement((function(){return a.a.createElement("div",{className:"btn-group-lg btn-group"},a.a.createElement(j.a,{onClick:p},C.i),a.a.createElement(j.a,{mod:"outline-primary",onClick:i},C.D))}),null),a.a.createElement(q,{auth:t,errors:o,result:u,onSaveResult:function(){m(u)}}))}))),X=n(75),K=n(29),W=n(70),Z=n(149),$=function(e){var t=e.players,n=e.id,r=e.onSubmit,c=Object(N.a)({initialValues:{},onSubmit:function(e){r(e,n)}});if(!t.length)return null;var u=t.map((function(e){var t=e._id,n=e.name;return a.a.createElement("option",{value:t,key:t},n)})),o=c.handleSubmit,l=Object(k.a)(c,["handleSubmit"]);return a.a.createElement("div",{className:"playday-add-player mt-3 border-top pt-3 mt-3"},a.a.createElement("form",{className:"row",onSubmit:o},a.a.createElement("div",{className:"col-md-8"},a.a.createElement(x.a,Object.assign({name:"select_team_".concat(n),type:"select"},l),a.a.createElement("option",{defaultValue:""},C.G),u)),a.a.createElement("div",{className:"col-md-4"},a.a.createElement(j.a,{type:"submit",mod:"outline-info",className:"mt-1 mt-md-0",wide:!0},C.b))))},ee=a.a.memo((function(e){var t=e.onSubmit,n=e.current,r=Object(N.a)({initialValues:{res1:n.goals[0],res2:n.goals[1]},onSubmit:function(e){t(e)},validationSchema:U.object().shape({res1:U.string().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),res2:U.string().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")})}),c=r.handleSubmit,u=Object(k.a)(r,["handleSubmit"]);return n?a.a.createElement("div",null,a.a.createElement("form",{className:"playday-edit-form mb-3",onSubmit:c},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-4 mt-3 mt-md-0"},a.a.createElement(x.a,Object.assign({placeholder:C.j,name:"res1"},u,{autoComplete:"off"}))),a.a.createElement("div",{className:"col-md-4 mt-3 mt-md-0"},a.a.createElement(x.a,Object.assign({placeholder:C.j,name:"res2"},u,{autoComplete:"off"})))),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-12 text-center"},a.a.createElement(j.a,{type:"submit"},C.F))))):null})),te=function(e){var t=e.current,n=e.onSubmit,c=Object(r.useState)(!1),u=Object(i.a)(c,2),o=u[0],l=u[1],s=Object(N.a)({initialValues:{name:t.name},onSubmit:function(e){n(e,t._id),l(!o)},validationSchema:U.object().shape({name:U.string().required(C.g)})}),m=s.handleSubmit,d=Object(k.a)(s,["handleSubmit"]);return o?a.a.createElement("form",{onSubmit:m},a.a.createElement(x.a,Object.assign({name:"name",autoFocus:!0,placeholder:C.s},d,{handleBlur:m}))):a.a.createElement("h1",{onDoubleClick:function(){l(!o)}},t.name)},ne={getPlayday:X.a,getPlayer:H.c,getPlayers:H.e,playdayUpdateTeams:X.c,updatePlayday:X.d},re=Object(K.d)(Object(o.b)((function(e){return{auth:Object(_.a)(e),current:Object(W.b)(e),freePlayers:Object(B.c)(e)}}),ne),Z.a)((function(e){var t=e.current,n=e.getPlayday,c=e.updatePlayday,u=e.match.params.id,o=e.history,l=e.auth,i=e.getPlayers,s=e.freePlayers,m=e.playdayUpdateTeams;if(Object(r.useEffect)((function(){n(u),i()}),[i,n,u]),!t)return a.a.createElement(F.a,null);var d=t._id,f=t.name,p=function(e,n){m(e._id,n,t)},E=function(e,n){m(Object.values(e)[0],n,t)},b=t.teams.map((function(e,t){return a.a.createElement("div",{className:"col-md-4 mt-3 mt-md-0",key:t},a.a.createElement(z.a,{players:e,color:t,deletePlayerFromTeam:p,auth:l}),a.a.createElement($,{players:s,onSubmit:E,id:t}))}));return a.a.createElement("div",{className:"playday-edit-container"},a.a.createElement(te,{current:t,onSubmit:function(e){f!==e.name&&c(d,f,{name:e.name})}}),a.a.createElement(ee,{onSubmit:function(e){c(d,f,{goals:Object.values(e)},o)},current:t}),a.a.createElement("div",{className:"row"},b))})),ae=function(e){return function(t){return a.a.createElement(a.a.Suspense,{fallback:a.a.createElement(F.a,null)},a.a.createElement(e,t))}},ce=a.a.lazy((function(){return n.e(4).then(n.bind(null,325))})),ue=a.a.lazy((function(){return n.e(6).then(n.bind(null,324))})),oe=a.a.lazy((function(){return n.e(5).then(n.bind(null,323))})),le=a.a.lazy((function(){return n.e(3).then(n.bind(null,322))})),ie=function(){return a.a.createElement("div",{className:"app"},a.a.createElement(T,null),a.a.createElement("div",{className:"container"},a.a.createElement(w.d,null,a.a.createElement(w.b,{path:R.e,component:D}),a.a.createElement(w.b,{path:R.c,component:J}),a.a.createElement(w.b,{path:R.h,exact:!0,component:ae(ce)}),a.a.createElement(w.b,{path:"".concat(R.h,":handle?"),component:ae(ue)}),a.a.createElement(w.b,{path:"".concat(R.g,":id?"),component:ae(le)}),a.a.createElement(w.b,{path:"".concat(R.a,":id?"),component:ae(re)}),a.a.createElement(w.b,{path:"".concat(R.b,":id"),component:ae(oe)}),a.a.createElement(w.b,{path:R.f,component:ae(oe)}),a.a.createElement(w.a,{from:R.d,to:R.c}))))},se=(n(319),n(320),ie),me=n(158),de=n(27);function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(n,!0).forEach((function(t){Object(de.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ee={error:"",isAuth:!1,loading:!1,user:null},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_USER_REQUEST":return pe({},e,{loading:!0});case"AUTH_USER_SUCCESS":return pe({},e,{error:"",isAuth:!0,loading:!1,user:t.userData});case"FETCH_USER_SUCCESS":return pe({},e,{isAuth:!0,loading:!1,user:t.decoded});case"AUTH_USER_FAILURE":return pe({},e,{error:t.error,loading:!1});case"LOGOUT_USER":return pe({},e,{isAuth:!1,loading:!1,user:null});default:return e}},ye=n(19);function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(n,!0).forEach((function(t){Object(de.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var he=function(e,t){var n=[],r=e.selected,a=r.find((function(e){return e._id===t._id}));if(a){var c=r.findIndex((function(e){return e._id===a._id}));n=[].concat(Object(ye.a)(r.slice(0,c)),Object(ye.a)(r.slice(c+1)))}else{n=[].concat(Object(ye.a)(r),[t])}return ge({},e,{selected:n})},Oe={error:"",loading:!1,result:[],selected:[]},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GENERATOR_PLAYER_SELECT":return he(e,t.player);case"GENERATOR_RUN":return ge({},e,{result:t.teams});case"GENERATOR_SELECT_RESET":return ge({},e,{error:"",result:[],selected:[]});case"GENERATOR_SAVE_FAILURE":return ge({},e,{error:t.error});case"GENERATOR_SAVE_REQUEST":return ge({},e,{loading:!0});case"GENERATOR_SAVE_SUCCESS":return ge({},e,{loading:!1});default:return e}},_e=n(76);function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(n,!0).forEach((function(t){Object(de.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ae=function(e,t){return Pe({},e,{current:Pe({},e.current,{teams:Object(_e.a)(e.current.teams,t.team,t.player)})})},Re={current:null,error:"",freePlayers:[],list:[],loading:!1},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PLAYDAYS_REQUEST":return Pe({},e,{loading:!0});case"FETCH_PLAYDAYS_SUCCESS":return Pe({},e,{list:t.playdays,loading:!1});case"FETCH_PLAYDAYS_FAILURE":return Pe({},e,{error:t.error});case"FETCH_PLAYDAY_REQUEST":return Pe({},e,{loading:!0});case"FETCH_PLAYDAY_SUCCESS":return Pe({},e,{current:t.current,loading:!1});case"FETCH_POST_PLAYDAY_REQUEST":return Pe({},e,{loading:!0});case"FETCH_POST_PLAYDAY_SUCCESS":return Pe({},e,{current:t.current,loading:!1});case"PLAYDAY_PLAYER_REMOVE":case"PLAYDAY_PLAYER_ADD":return Ae(e,t.data);default:return e}};function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(n,!0).forEach((function(t){Object(de.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ke={current:null,error:"",freePlayers:[],list:[],loading:!1,selected:[]},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PLAYERS_REQUEST":return we({},e,{loading:!0});case"FETCH_PLAYERS_SUCCESS":return we({},e,{list:t.players,loading:!1});case"FETCH_PLAYERS_FAILURE":return we({},e,{error:t.error,loading:!1});case"FETCH_PLAYER_REQUEST":return we({},e,{loading:!0});case"FETCH_PLAYER_SUCCESS":return we({},e,{current:t.player,loading:!1});case"FETCH_PLAYER_FAILURE":return we({},e,{error:t.error,loading:!1});case"FETCH_POST_PLAYER_REQUEST":return we({},e,{loading:!0});case"FETCH_POST_PLAYER_SUCCESS":return we({},e,{current:t.player,loading:!1});case"SET_FREE_PLAYERS":return we({},e,{freePlayers:t.players});default:return e}},Ue=Object(K.c)({auth:be,generator:Se,playday:Ce,player:Ne}),xe=Object(K.e)(Ue,Object(K.d)(Object(K.a)(me.a)));if(localStorage.jwtToken){v(localStorage.jwtToken);var Le=p()(localStorage.jwtToken);xe.dispatch(function(e){return{decoded:e,type:"FETCH_USER_SUCCESS"}}(Le));var Ye=Date.now()/1e3;Le.exp<Ye&&(xe.dispatch(h()),window.location.href="/login")}u.a.render(a.a.createElement(l.a,{basename:"https://xdemetr.github.io/fb-client"},a.a.createElement(o.a,{store:xe},a.a.createElement(se,null))),document.getElementById("root"))},35:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(78),u=n.n(c),o=function(){return a.a.createElement("div",{className:u.a.spinner},a.a.createElement("div",{className:u.a.ldsCss},a.a.createElement("div",{className:u.a.ldsDualRing},a.a.createElement("div",null,"\xa0"))))};t.a=o},53:function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return E})),n.d(t,"d",(function(){return b})),n.d(t,"g",(function(){return y}));var r=n(2),a=n.n(r),c=n(8),u=n(7),o=n(1),l=function(e){return{player:e,type:"FETCH_PLAYER_SUCCESS"}},i=function(e){return{player:e,type:"FETCH_POST_PLAYER_SUCCESS"}},s=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_PLAYERS_REQUEST"}),e.prev=1,e.next=4,u.c.getPlayerList();case 4:n=e.sent,t({players:n.data,type:"FETCH_PLAYERS_SUCCESS"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({error:e.t0.message,type:"FETCH_PLAYERS_FAILURE"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"FETCH_PLAYER_REQUEST"}),t.prev=1,t.next=4,u.c.getPlayer(e);case 4:r=t.sent,n(l(r.data)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},d=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"FETCH_POST_PLAYER_REQUEST"}),n.prev=1,e.image||(e.image=o.a),n.next=5,u.c.addPlayer(e);case 5:c=n.sent,r(i(c.data)),t.push("/players"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),console.error(n.t0.message);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()},f=function(e,t,n){return function(){var r=Object(c.a)(a.a.mark((function r(c){var l;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c({type:"FETCH_POST_PLAYER_REQUEST"}),r.prev=1,t.image||(t.image=o.a),r.next=5,u.c.updatePlayer(e,t);case 5:l=r.sent,c(i(l.data)),n.push("/players"),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),console.error(r.t0.message);case 13:case"end":return r.stop()}}),r,null,[[1,10]])})));return function(e){return r.apply(this,arguments)}}()},p=function(e,t){return Object(c.a)(a.a.mark((function n(){var r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.c.deletePlayer(e);case 3:return r=n.sent,t.push("/players"),n.abrupt("return",r.data);case 8:n.prev=8,n.t0=n.catch(0),console.error(n.t0.message);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))},E=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"FETCH_POST_PLAYER_REQUEST"}),t.prev=1,t.next=4,u.c.getPlayer(e);case 4:r=t.sent,n(i(r.data)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"FETCH_PLAYER_REQUEST"}),t.prev=1,t.next=4,u.c.getPlayerByHandle(e);case 4:r=t.sent,n(l(r.data)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},y=function(){return function(e){e(i(null))}}},54:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return m}));var r=n(19),a=n(11),c=n(70),u=function(e){return e.player.list},o=Object(a.a)([u,c.a],(function(e,t){var n=[];if(t&&e){var a=[].concat(Object(r.a)(t.teams[0]),Object(r.a)(t.teams[1]),Object(r.a)(t.teams[2])).map((function(e){return e._id}));n=e.filter((function(e){return!a.includes(e._id)})).map((function(e){return e}))}return n})),l=Object(a.a)(u,(function(e){return e})),i=Object(a.a)((function(e){return e.player.loading}),(function(e){return e})),s=Object(a.a)((function(e){return e.player.error}),(function(e){return e})),m=Object(a.a)((function(e){return e.player.current}),(function(e){return e}))},6:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"h",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return o})),n.d(t,"g",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i}));var r="/",a="/login/",c="/players/",u="/new-player/",o="/generator/",l="/playdays/",i="/edit-playday/",s="/edit-player/"},67:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=a.a.memo((function(e){var t=e.message;return t?a.a.createElement("div",{className:"alert alert-danger"},t):null}));t.a=c},7:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return o}));var r=n(9),a=n.n(r);a.a.defaults.baseURL="https://node.joomdesign.ru/fb/api/";var c={login:function(e){return a.a.post("users/login",e)}},u={getPlayerList:function(){return a.a.get("players")},getPlayer:function(e){return a.a.get("players/".concat(e))},getPlayerByHandle:function(e){return a.a.get("players/handle/".concat(e))},addPlayer:function(e){return a.a.post("players",e)},updatePlayer:function(e,t){return a.a.put("players/".concat(e),t)},deletePlayer:function(e){return a.a.delete("players/".concat(e))}},o={addPlayday:function(e){return a.a.post("/playdays",e)},getPlaydays:function(){return a.a.get("/playdays")},getPlayday:function(e){return a.a.get("/playdays/".concat(e))},updatePlayday:function(e,t){return a.a.put("playdays/".concat(e),t)}}},70:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return o}));var r=n(11),a=function(e){return e.playday.current},c=Object(r.a)((function(e){return e.playday.list}),(function(e){return e})),u=Object(r.a)((function(e){return e.playday.loading}),(function(e){return e})),o=Object(r.a)(a,(function(e){return e}))},71:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(22),u=(n(318),n(10)),o=n(6),l=n(1),i=a.a.memo((function(e){var t=e.players,n=e.goals,r=e.color,i=e.deletePlayerFromTeam,s=e.auth,m=void 0!==s&&s,d=e.view,f=void 0===d?"default":d;if(!t.length)return null;var p=[{color:"red",title:"\u041a\u0440\u0430\u0441\u043d\u044b\u0435 \u043d\u0435\u0437\u0430\u0431\u0443\u0434\u043a\u0438"},{color:"blue",title:"\u0421\u0438\u043d\u0438\u0435 \u0441\u043d\u0435\u0433\u0438\u0440\u0438"},{color:"white",title:"\u0411\u0435\u043b\u044b\u0435 \u0432\u0438\u043a\u0438\u043d\u0433\u0438"}],E=t.map((function(e){var t=e._id,n=e.image,s=e.name,d=e.handle;return a.a.createElement("div",{className:"list-group-item d-flex align-items-center team__player",key:t},a.a.createElement("img",{className:"rounded-circle team-player__image",src:n,alt:s,width:"40"}),a.a.createElement(c.b,{to:"".concat(o.h).concat(d),className:"ml-2"},s),a.a.createElement((function(){return m?a.a.createElement(u.a,{mod:"outline-danger",className:"ml-auto btn-sm",onClick:function(){return i(e,r)},title:l.d},"X"):null}),null))}));return a.a.createElement("div",{className:"list-group team team_color_".concat(p[r].color," team_view_").concat(f)},a.a.createElement("div",{className:"list-group-item list-group-item-primary d-flex align-items-center font-weight-bold"},p[r].title,a.a.createElement((function(){return n?a.a.createElement("span",{className:"badge ml-auto"},n):null}),null)),E)}));t.a=i},75:function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return E})),n.d(t,"d",(function(){return b}));var r=n(2),a=n.n(r),c=n(27),u=n(8),o=n(7),l=n(76);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e){return{current:e,type:"FETCH_POST_PLAYDAY_SUCCESS"}},d=function(e,t){return{data:{team:t,player:e},type:"PLAYDAY_PLAYER_REMOVE"}},f=function(e,t,n){return function(){var r=Object(u.a)(a.a.mark((function r(c){var u,i,f,p;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o.c.getPlayer(e);case 3:return u=r.sent,c(d(u.data,t)),i=n.teams,f=s({},n,{teams:Object(l.a)(i,t,u.data)}),r.prev=7,r.next=10,o.b.updatePlayday(f._id,f);case 10:p=r.sent,c(m(p.data)),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(7),console.error(r.t0);case 17:r.next=22;break;case 19:r.prev=19,r.t1=r.catch(0),console.error(r.t1);case 22:case"end":return r.stop()}}),r,null,[[0,19],[7,14]])})));return function(e){return r.apply(this,arguments)}}()},p=function(){return function(){var e=Object(u.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_PLAYDAYS_REQUEST"}),e.prev=1,e.next=4,o.b.getPlaydays();case 4:n=e.sent,t({playdays:n.data,type:"FETCH_PLAYDAYS_SUCCESS"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({error:e.t0.message,type:"FETCH_PLAYDAYS_FAILURE"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(u.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"FETCH_PLAYDAY_REQUEST"}),t.prev=1,t.next=4,o.b.getPlayday(e);case 4:r=t.sent,n({current:r.data,type:"FETCH_PLAYDAY_SUCCESS"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({error:t.t0.message,type:"FETCH_PLAYDAY_FAILURE"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e,t,n,r){return function(){var t=Object(u.a)(a.a.mark((function t(c){var u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:"FETCH_POST_PLAYDAY_REQUEST"}),t.prev=1,t.next=4,o.b.updatePlayday(e,n);case 4:u=t.sent,c(m(u.data)),r&&r.push("/playdays/".concat(e)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}},76:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(19),a=function(e,t,n){return e.map((function(e,a){var c=e;if(a===parseInt(t,10)){var u=e.find((function(e){return e._id===n._id}));if(u){var o=e.findIndex((function(e){return e._id===u._id}));c=[].concat(Object(r.a)(e.slice(0,o)),Object(r.a)(e.slice(o+1)))}else c=[].concat(Object(r.a)(e),[n])}return c}))}},78:function(e,t,n){e.exports={spinner:"Spinner_spinner__1Neu5",ldsCss:"Spinner_ldsCss__1slPF",ldsDualRing:"Spinner_ldsDualRing__Cno__"}}},[[161,1,2]]]);
//# sourceMappingURL=main.a952d85d.chunk.js.map